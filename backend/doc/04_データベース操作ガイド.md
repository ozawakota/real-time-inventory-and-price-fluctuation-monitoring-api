# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œã‚¬ã‚¤ãƒ‰

åˆå¿ƒè€…å‘ã‘ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¸ã®ãƒ‡ãƒ¼ã‚¿ç™»éŒ²ãƒ»ç®¡ç†æ‰‹é †

## ğŸ“‹ ç›®æ¬¡

1. [åŸºæœ¬çš„ãªãƒ‡ãƒ¼ã‚¿ç™»éŒ²æ–¹æ³•](#åŸºæœ¬çš„ãªãƒ‡ãƒ¼ã‚¿ç™»éŒ²æ–¹æ³•)
2. [APIã‚’ä½¿ã£ãŸãƒ‡ãƒ¼ã‚¿ç™»éŒ²](#apiã‚’ä½¿ã£ãŸãƒ‡ãƒ¼ã‚¿ç™»éŒ²)
3. [ç›´æ¥ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹](#ç›´æ¥ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹)
4. [ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ã®æŠ•å…¥](#ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ã®æŠ•å…¥)
5. [ãƒ‡ãƒ¼ã‚¿ã®ç¢ºèªæ–¹æ³•](#ãƒ‡ãƒ¼ã‚¿ã®ç¢ºèªæ–¹æ³•)
6. [ã‚ˆãã‚ã‚‹ã‚¨ãƒ©ãƒ¼ã¨å¯¾å‡¦æ³•](#ã‚ˆãã‚ã‚‹ã‚¨ãƒ©ãƒ¼ã¨å¯¾å‡¦æ³•)

---

## ğŸš€ åŸºæœ¬çš„ãªãƒ‡ãƒ¼ã‚¿ç™»éŒ²æ–¹æ³•

### å‰ææ¡ä»¶ã®ç¢ºèª

ã¾ãšã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ãŒèµ·å‹•ã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼š

```bash
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã‹ã‚‰
cd backend
docker-compose ps

# æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›ä¾‹ï¼š
# NAME                              STATUS
# Price-Monitoring-API-app-backend       Up
# Price-Monitoring-API-postgres-backend  Up (healthy)
# Price-Monitoring-API-redis-backend     Up (healthy)
```

### ã‚µãƒ¼ãƒ“ã‚¹èµ·å‹•ï¼ˆæœªèµ·å‹•ã®å ´åˆï¼‰

```bash
cd backend
docker-compose up -d
```

---

## ğŸŒ APIã‚’ä½¿ã£ãŸãƒ‡ãƒ¼ã‚¿ç™»éŒ²

### 1. Swagger UIã‚’ä½¿ã£ãŸç™»éŒ²ï¼ˆæ¨å¥¨ãƒ»åˆå¿ƒè€…å‘ã‘ï¼‰

**Swagger UIã‚¢ã‚¯ã‚»ã‚¹**
1. ãƒ–ãƒ©ã‚¦ã‚¶ã§ http://localhost:8000/docs ã«ã‚¢ã‚¯ã‚»ã‚¹
2. ç›´æ„Ÿçš„ãªWebã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã§APIã‚’æ“ä½œå¯èƒ½

**åœ¨åº«ãƒ‡ãƒ¼ã‚¿ç™»éŒ²æ‰‹é †**
1. **POST /api/v1/inventory** ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¦‹ã¤ã‘ã‚‹
2. ã€Œ**Try it out**ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
3. Request bodyã«ä»¥ä¸‹ã®ã‚ˆã†ãªJSONãƒ‡ãƒ¼ã‚¿ã‚’å…¥åŠ›ï¼š

```json
{
  "name": "ãƒãƒ¼ãƒˆãƒ‘ã‚½ã‚³ãƒ³",
  "description": "Dell XPS 13 ãƒãƒ¼ãƒˆãƒ‘ã‚½ã‚³ãƒ³",
  "category": "electronics",
  "quantity": 10,
  "price": 150000,
  "minimum_stock_level": 2,
  "supplier": "Dell Japan",
  "location": "å€‰åº«A-01"
}
```

4. ã€Œ**Execute**ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
5. **Response**ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§çµæœç¢ºèªï¼ˆStatus Code: 200ã§æˆåŠŸï¼‰

### 2. curlã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã£ãŸç™»éŒ²

**åŸºæœ¬çš„ãªåœ¨åº«ç™»éŒ²**
```bash
curl -X POST "http://localhost:8000/api/v1/inventory" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³",
    "description": "iPhone 15 Pro",
    "category": "electronics",
    "quantity": 25,
    "price": 180000,
    "minimum_stock_level": 5,
    "supplier": "Apple",
    "location": "å€‰åº«B-03"
  }'
```

**è¤‡æ•°ãƒ‡ãƒ¼ã‚¿ã®ä¸€æ‹¬ç™»éŒ²ã‚¹ã‚¯ãƒªãƒ—ãƒˆ**
```bash
#!/bin/bash
# bulk_insert.sh

API_URL="http://localhost:8000/api/v1/inventory"

# å•†å“ãƒªã‚¹ãƒˆ
items=(
  '{"name": "ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—PC", "description": "ã‚²ãƒ¼ãƒŸãƒ³ã‚°PC RTX4080", "category": "electronics", "quantity": 8, "price": 250000, "minimum_stock_level": 2, "supplier": "è‡ªä½œPCåº—", "location": "å€‰åº«A-02"}'
  '{"name": "ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰", "description": "ãƒ¡ã‚«ãƒ‹ã‚«ãƒ«ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰", "category": "accessories", "quantity": 30, "price": 15000, "minimum_stock_level": 10, "supplier": "ãƒ­ã‚¸ã‚¯ãƒ¼ãƒ«", "location": "å€‰åº«C-01"}'
  '{"name": "ãƒã‚¦ã‚¹", "description": "ã‚²ãƒ¼ãƒŸãƒ³ã‚°ãƒã‚¦ã‚¹", "category": "accessories", "quantity": 45, "price": 8000, "minimum_stock_level": 15, "supplier": "ãƒ¬ã‚¤ã‚¶ãƒ¼", "location": "å€‰åº«C-02"}'
  '{"name": "ãƒ¢ãƒ‹ã‚¿ãƒ¼", "description": "4K 27ã‚¤ãƒ³ãƒãƒ¢ãƒ‹ã‚¿ãƒ¼", "category": "electronics", "quantity": 12, "price": 80000, "minimum_stock_level": 3, "supplier": "LG", "location": "å€‰åº«A-03"}'
)

# ä¸€æ‹¬ç™»éŒ²å®Ÿè¡Œ
for item in "${items[@]}"; do
  echo "ç™»éŒ²ä¸­: $item"
  curl -X POST "$API_URL" \
    -H "Content-Type: application/json" \
    -d "$item"
  echo -e "\n---"
  sleep 1
done

echo "ä¸€æ‹¬ç™»éŒ²å®Œäº†ï¼"
```

**å®Ÿè¡Œæ–¹æ³•**
```bash
# ã‚¹ã‚¯ãƒªãƒ—ãƒˆä½œæˆ
nano bulk_insert.sh

# å®Ÿè¡Œæ¨©é™ä»˜ä¸
chmod +x bulk_insert.sh

# å®Ÿè¡Œ
./bulk_insert.sh
```

### 3. Pythonã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½¿ã£ãŸç™»éŒ²

**requirements.txt**
```txt
requests==2.31.0
```

**ãƒ‡ãƒ¼ã‚¿ç™»éŒ²ã‚¹ã‚¯ãƒªãƒ—ãƒˆ (register_data.py)**
```python
#!/usr/bin/env python3
import requests
import json

API_BASE_URL = "http://localhost:8000/api/v1"

def register_inventory_item(item_data):
    """åœ¨åº«ã‚¢ã‚¤ãƒ†ãƒ ã‚’ç™»éŒ²"""
    try:
        response = requests.post(
            f"{API_BASE_URL}/inventory",
            json=item_data,
            headers={"Content-Type": "application/json"}
        )
        response.raise_for_status()
        print(f"âœ… ç™»éŒ²æˆåŠŸ: {item_data['name']}")
        return response.json()
    except requests.exceptions.RequestException as e:
        print(f"âŒ ç™»éŒ²å¤±æ•—: {item_data['name']} - {e}")
        return None

def main():
    """ãƒ¡ã‚¤ãƒ³é–¢æ•°"""
    
    # ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿
    sample_items = [
        {
            "name": "å†·è”µåº«",
            "description": "å¤§å‹å†·è”µåº« 500L",
            "category": "appliances",
            "quantity": 5,
            "price": 180000,
            "minimum_stock_level": 2,
            "supplier": "ãƒ‘ãƒŠã‚½ãƒ‹ãƒƒã‚¯",
            "location": "å€‰åº«D-01"
        },
        {
            "name": "æ´—æ¿¯æ©Ÿ",
            "description": "ãƒ‰ãƒ©ãƒ å¼æ´—æ¿¯æ©Ÿ 9kg",
            "category": "appliances", 
            "quantity": 8,
            "price": 150000,
            "minimum_stock_level": 3,
            "supplier": "æ—¥ç«‹",
            "location": "å€‰åº«D-02"
        },
        {
            "name": "ã‚ªãƒ•ã‚£ã‚¹ãƒã‚§ã‚¢",
            "description": "ã‚¨ãƒ«ã‚´ãƒãƒŸã‚¯ã‚¹ãƒã‚§ã‚¢",
            "category": "furniture",
            "quantity": 20,
            "price": 45000,
            "minimum_stock_level": 8,
            "supplier": "ã‚ªã‚«ãƒ ãƒ©",
            "location": "å€‰åº«E-01"
        }
    ]
    
    print("ğŸš€ åœ¨åº«ãƒ‡ãƒ¼ã‚¿ç™»éŒ²é–‹å§‹...")
    
    for item in sample_items:
        register_inventory_item(item)
    
    print("âœ… ç™»éŒ²å‡¦ç†å®Œäº†ï¼")

if __name__ == "__main__":
    main()
```

**å®Ÿè¡Œæ–¹æ³•**
```bash
# ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install requests

# ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œ
python register_data.py
```

---

## ğŸ—„ï¸ ç›´æ¥ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹

### PostgreSQLã‚³ãƒ³ãƒ†ãƒŠã«æ¥ç¶š

```bash
# PostgreSQLã‚³ãƒ³ãƒ†ãƒŠã«ã‚¢ã‚¯ã‚»ã‚¹
docker exec -it Price-Monitoring-API-postgres-backend psql -U postgres -d inventory_monitoring
```

### åŸºæœ¬çš„ãªSQLæ“ä½œ

**ãƒ†ãƒ¼ãƒ–ãƒ«ä¸€è¦§ç¢ºèª**
```sql
\dt
```

**åœ¨åº«ãƒ†ãƒ¼ãƒ–ãƒ«ã®æ§‹é€ ç¢ºèª**
```sql
\d inventory_items
```

**ãƒ‡ãƒ¼ã‚¿ç›´æ¥æŒ¿å…¥**
```sql
INSERT INTO inventory_items (
    name, description, category, quantity, price, 
    minimum_stock_level, supplier, location
) VALUES (
    'ãƒ†ã‚¹ãƒˆå•†å“',
    'ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç›´æ¥ç™»éŒ²ãƒ†ã‚¹ãƒˆ',
    'test',
    100,
    5000.00,
    10,
    'ãƒ†ã‚¹ãƒˆä¾›çµ¦è€…',
    'ãƒ†ã‚¹ãƒˆå€‰åº«'
);
```

**ãƒ‡ãƒ¼ã‚¿ç¢ºèª**
```sql
-- å…¨ãƒ‡ãƒ¼ã‚¿è¡¨ç¤º
SELECT * FROM inventory_items;

-- ä»¶æ•°ç¢ºèª
SELECT COUNT(*) FROM inventory_items;

-- æœ€æ–°5ä»¶è¡¨ç¤º
SELECT * FROM inventory_items ORDER BY created_at DESC LIMIT 5;
```

**æ¥ç¶šçµ‚äº†**
```sql
\q
```

---

## ğŸ“Š ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ã®æŠ•å…¥

### å¤§é‡ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆï¼ˆSQLãƒ•ã‚¡ã‚¤ãƒ«ï¼‰

**sample_data.sql**
```sql
-- ã‚µãƒ³ãƒ—ãƒ«åœ¨åº«ãƒ‡ãƒ¼ã‚¿æŠ•å…¥
INSERT INTO inventory_items (name, description, category, quantity, price, minimum_stock_level, supplier, location) VALUES
('ãƒãƒ¼ãƒˆãƒ‘ã‚½ã‚³ãƒ³ Dell XPS 13', '13ã‚¤ãƒ³ãƒè»½é‡ãƒãƒ¼ãƒˆPC', 'electronics', 15, 150000.00, 3, 'Dell', 'å€‰åº«A-01'),
('iPhone 15 Pro', 'Appleæœ€æ–°ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³', 'electronics', 25, 180000.00, 5, 'Apple', 'å€‰åº«A-02'),
('ã‚²ãƒ¼ãƒŸãƒ³ã‚°ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰', 'RGB ãƒ¡ã‚«ãƒ‹ã‚«ãƒ«ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰', 'accessories', 40, 12000.00, 10, 'Corsair', 'å€‰åº«C-01'),
('4Kãƒ¢ãƒ‹ã‚¿ãƒ¼', '27ã‚¤ãƒ³ãƒ 4K IPS ãƒ¢ãƒ‹ã‚¿ãƒ¼', 'electronics', 8, 85000.00, 2, 'LG', 'å€‰åº«A-03'),
('ã‚ªãƒ•ã‚£ã‚¹ãƒ‡ã‚¹ã‚¯', 'æ˜‡é™å¼ã‚ªãƒ•ã‚£ã‚¹ãƒ‡ã‚¹ã‚¯', 'furniture', 12, 65000.00, 4, 'ã‚ªã‚«ãƒ ãƒ©', 'å€‰åº«E-01'),
('å†·è”µåº« 500L', 'å¤§å‹ãƒ•ã‚¡ãƒŸãƒªãƒ¼å†·è”µåº«', 'appliances', 6, 180000.00, 2, 'ãƒ‘ãƒŠã‚½ãƒ‹ãƒƒã‚¯', 'å€‰åº«D-01'),
('æ´—æ¿¯æ©Ÿ 9kg', 'ãƒ‰ãƒ©ãƒ å¼æ´—æ¿¯æ©Ÿ', 'appliances', 4, 150000.00, 1, 'ã‚·ãƒ£ãƒ¼ãƒ—', 'å€‰åº«D-02'),
('ã‚²ãƒ¼ãƒŸãƒ³ã‚°ãƒã‚¦ã‚¹', 'é«˜ç²¾åº¦ã‚²ãƒ¼ãƒŸãƒ³ã‚°ãƒã‚¦ã‚¹', 'accessories', 55, 8500.00, 20, 'Razer', 'å€‰åº«C-02'),
('ãƒ¯ã‚¤ãƒ¤ãƒ¬ã‚¹ãƒ˜ãƒƒãƒ‰ãƒ›ãƒ³', 'ãƒã‚¤ã‚ºã‚­ãƒ£ãƒ³ã‚»ãƒªãƒ³ã‚°', 'electronics', 30, 35000.00, 8, 'Sony', 'å€‰åº«B-01'),
('ã‚¨ãƒ«ã‚´ãƒãƒŸã‚¯ã‚¹ãƒã‚§ã‚¢', 'è…°ç—›å¯¾ç­–ã‚ªãƒ•ã‚£ã‚¹ãƒã‚§ã‚¢', 'furniture', 18, 85000.00, 6, 'ãƒãƒ¼ãƒãƒ³ãƒŸãƒ©ãƒ¼', 'å€‰åº«E-02'),
('ãƒ—ãƒªãƒ³ã‚¿ãƒ¼', 'A4ã‚«ãƒ©ãƒ¼ãƒ¬ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒªãƒ³ã‚¿ãƒ¼', 'electronics', 7, 45000.00, 2, 'Brother', 'å€‰åº«B-02'),
('ãƒ‡ã‚¹ã‚¯ãƒ©ã‚¤ãƒˆ', 'LEDèª¿å…‰ãƒ‡ã‚¹ã‚¯ãƒ©ã‚¤ãƒˆ', 'accessories', 25, 8000.00, 8, 'å±±ç”°ç…§æ˜', 'å€‰åº«C-03'),
('ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆ', '10ã‚¤ãƒ³ãƒ Androidã‚¿ãƒ–ãƒ¬ãƒƒãƒˆ', 'electronics', 20, 55000.00, 5, 'Samsung', 'å€‰åº«A-04'),
('ã‚¹ãƒ”ãƒ¼ã‚«ãƒ¼', 'Bluetoothã‚¹ãƒ”ãƒ¼ã‚«ãƒ¼', 'electronics', 35, 15000.00, 10, 'JBL', 'å€‰åº«B-03'),
('ä¼šè­°ç”¨ãƒã‚¤ã‚¯', 'USBä¼šè­°ç”¨ãƒã‚¤ã‚¯', 'accessories', 12, 25000.00, 3, 'Audio-Technica', 'å€‰åº«C-04'),
('å¤–ä»˜ã‘HDD', '2TB å¤–ä»˜ã‘ãƒãƒ¼ãƒ‰ãƒ‡ã‚£ã‚¹ã‚¯', 'accessories', 45, 12000.00, 15, 'Buffalo', 'å€‰åº«C-05'),
('Webã‚«ãƒ¡ãƒ©', '4K Webã‚«ãƒ¡ãƒ©', 'accessories', 28, 18000.00, 8, 'Logitech', 'å€‰åº«C-06'),
('é›»å­ãƒ¬ãƒ³ã‚¸', '25L ã‚ªãƒ¼ãƒ–ãƒ³ãƒ¬ãƒ³ã‚¸', 'appliances', 10, 35000.00, 3, 'æ—¥ç«‹', 'å€‰åº«D-03'),
('æƒé™¤æ©Ÿ', 'ã‚³ãƒ¼ãƒ‰ãƒ¬ã‚¹æƒé™¤æ©Ÿ', 'appliances', 14, 45000.00, 4, 'ãƒ€ã‚¤ã‚½ãƒ³', 'å€‰åº«D-04'),
('ç©ºæ°—æ¸…æµ„æ©Ÿ', 'HEPA ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ç©ºæ°—æ¸…æµ„æ©Ÿ', 'appliances', 8, 55000.00, 2, 'ãƒ€ã‚¤ã‚­ãƒ³', 'å€‰åº«D-05');
```

**SQLãƒ•ã‚¡ã‚¤ãƒ«å®Ÿè¡Œ**
```bash
# SQLãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚³ãƒ³ãƒ†ãƒŠã«ã‚³ãƒ”ãƒ¼
docker cp sample_data.sql Price-Monitoring-API-postgres-backend:/tmp/

# SQLãƒ•ã‚¡ã‚¤ãƒ«å®Ÿè¡Œ
docker exec -it Price-Monitoring-API-postgres-backend psql -U postgres -d inventory_monitoring -f /tmp/sample_data.sql
```

---

## ğŸ“‹ ãƒ‡ãƒ¼ã‚¿ã®ç¢ºèªæ–¹æ³•

### 1. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ç”»é¢ã§ã®ç¢ºèª

```bash
# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰èµ·å‹•ï¼ˆåˆ¥ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ï¼‰
cd frontend
npm run dev

# ãƒ–ãƒ©ã‚¦ã‚¶ã§ç¢ºèª
# http://localhost:3001
```

### 2. APIç›´æ¥ç¢ºèª

```bash
# å…¨åœ¨åº«ä¸€è¦§å–å¾—
curl http://localhost:8000/api/v1/inventory | jq

# çµ±è¨ˆæƒ…å ±ç¢ºèª
curl http://localhost:8000/api/v1/inventory/stats | jq

# ä½åœ¨åº«ã‚¢ãƒ©ãƒ¼ãƒˆç¢ºèª
curl http://localhost:8000/api/v1/inventory/low-stock | jq
```

### 3. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç›´æ¥ç¢ºèª

```bash
docker exec -it Price-Monitoring-API-postgres-backend psql -U postgres -d inventory_monitoring -c "
SELECT 
  name, 
  quantity, 
  minimum_stock_level,
  CASE 
    WHEN quantity <= minimum_stock_level THEN 'ã‚¢ãƒ©ãƒ¼ãƒˆ'
    ELSE 'æ­£å¸¸'
  END as status
FROM inventory_items 
ORDER BY created_at DESC 
LIMIT 10;
"
```

---

## âš ï¸ ã‚ˆãã‚ã‚‹ã‚¨ãƒ©ãƒ¼ã¨å¯¾å‡¦æ³•

### 1. æ¥ç¶šã‚¨ãƒ©ãƒ¼

**ã‚¨ãƒ©ãƒ¼**: `Connection refused` ã¾ãŸã¯ `Could not connect`

**ç¢ºèªäº‹é …**:
```bash
# ã‚³ãƒ³ãƒ†ãƒŠçŠ¶æ…‹ç¢ºèª
docker-compose ps

# ã‚³ãƒ³ãƒ†ãƒŠãŒåœæ­¢ã—ã¦ã„ã‚‹å ´åˆ
docker-compose up -d

# ãƒ­ã‚°ç¢ºèª
docker-compose logs app
```

### 2. ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼

**ã‚¨ãƒ©ãƒ¼**: `422 Unprocessable Entity`

**åŸå› ã¨å¯¾å‡¦**:
```json
{
  "detail": [
    {
      "loc": ["body", "price"],
      "msg": "ensure this value is greater than 0",
      "type": "value_error.number.not_gt"
    }
  ]
}
```

- **ä¾¡æ ¼**: 0ã‚ˆã‚Šå¤§ãã„å€¤ã‚’æŒ‡å®š
- **æ•°é‡**: 0ä»¥ä¸Šã®æ•´æ•°ã‚’æŒ‡å®š
- **å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰**: name, category, quantity, price ã¯å¿…é ˆ

**ä¿®æ­£ä¾‹**:
```json
{
  "name": "å•†å“åï¼ˆå¿…é ˆï¼‰",
  "category": "ã‚«ãƒ†ã‚´ãƒªï¼ˆå¿…é ˆï¼‰", 
  "quantity": 10,
  "price": 1000.00,
  "minimum_stock_level": 5
}
```

### 3. é‡è¤‡ã‚¨ãƒ©ãƒ¼

**ã‚¨ãƒ©ãƒ¼**: `409 Conflict` - å•†å“åé‡è¤‡

**å¯¾å‡¦**: å•†å“åã‚’ãƒ¦ãƒ‹ãƒ¼ã‚¯ã«ã™ã‚‹ã‹ã€æ—¢å­˜ãƒ‡ãƒ¼ã‚¿ã‚’æ›´æ–°

```bash
# æ—¢å­˜ãƒ‡ãƒ¼ã‚¿ç¢ºèª
curl http://localhost:8000/api/v1/inventory | jq '.[] | .name'

# æ›´æ–°ã®å ´åˆ
curl -X PUT "http://localhost:8000/api/v1/inventory/{id}" \
  -H "Content-Type: application/json" \
  -d '{"name": "æ–°å•†å“å", ...}'
```

### 4. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šã‚¨ãƒ©ãƒ¼

**ã‚¨ãƒ©ãƒ¼**: `could not connect to server: Connection refused`

**å¯¾å‡¦æ‰‹é †**:
```bash
# PostgreSQL ã‚³ãƒ³ãƒ†ãƒŠçŠ¶æ…‹ç¢ºèª
docker exec Price-Monitoring-API-postgres-backend pg_isready -U postgres

# ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ç¢ºèª
docker inspect Price-Monitoring-API-postgres-backend | grep Health -A 10

# å†èµ·å‹•
docker-compose restart postgres
```

---

## ğŸ”„ ãƒ‡ãƒ¼ã‚¿ç®¡ç†ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

### å®šæœŸçš„ãªãƒ‡ãƒ¼ã‚¿ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—

```bash
# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
docker exec Price-Monitoring-API-postgres-backend pg_dump -U postgres inventory_monitoring > backup_$(date +%Y%m%d).sql

# å¾©å…ƒ
docker exec -i Price-Monitoring-API-postgres-backend psql -U postgres inventory_monitoring < backup_20241216.sql
```

### ãƒ‡ãƒ¼ã‚¿ä¸€æ‹¬æ›´æ–°

```sql
-- ç‰¹å®šã‚«ãƒ†ã‚´ãƒªã®ä¾¡æ ¼ä¸€å¾‹10%ã‚¢ãƒƒãƒ—
UPDATE inventory_items 
SET price = price * 1.1 
WHERE category = 'electronics';

-- åœ¨åº«ãƒ¬ãƒ™ãƒ«èª¿æ•´
UPDATE inventory_items 
SET minimum_stock_level = GREATEST(quantity * 0.1, 1)
WHERE minimum_stock_level < quantity * 0.1;
```

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–

```sql
-- ä½åœ¨åº«å•†å“ç¢ºèª
SELECT name, quantity, minimum_stock_level, location
FROM inventory_items
WHERE quantity <= minimum_stock_level
ORDER BY quantity ASC;

-- ã‚«ãƒ†ã‚´ãƒªåˆ¥åœ¨åº«çµ±è¨ˆ
SELECT 
  category, 
  COUNT(*) as item_count,
  SUM(quantity) as total_quantity,
  AVG(price) as avg_price
FROM inventory_items 
GROUP BY category;
```

---

ã“ã®ã‚¬ã‚¤ãƒ‰ã«å¾“ã£ã¦ã€åœ¨åº«ãƒ‡ãƒ¼ã‚¿ã®ç™»éŒ²ãƒ»ç®¡ç†ã‚’åŠ¹ç‡çš„ã«è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚åˆå¿ƒè€…ã®æ–¹ã¯**Swagger UI**ã‹ã‚‰å§‹ã‚ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ï¼