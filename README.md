# リアルタイム在庫・価格変動監視ダッシュボードAPIを作成
## Real-Time Inventory & Price Monitoring API System

### 概要 (Project Overview) 💡

本プロジェクトは、ECサイトの運用において極めて重要な在庫と価格の正確性および即時性を保証するためのリアルタイム監視システムです。

FastAPIの非同期性能とWebSocketを組み合わせることで、データベースの更新を即座に管理者ダッシュボードにプッシュ通知するアーキテクチャを実現しました。これにより、在庫切れや価格設定ミスによる販売機会の損失、顧客の不満を最小限に抑えることができます。

### システム構成 (Architecture) 🛠️

このシステムは、パフォーマンスとスケーラビリティを重視した以下の技術スタックと構成を採用しています。

| コンポーネント | 技術スタック | 役割 |
|---|---|---|
| バックエンド API | FastAPI (Python) | CRUD操作、ビジネスロジック、データ検証、認証管理 |
| リアルタイム通信 | WebSocket | サーバー側からのデータプッシュ通知を担い、クライアントのポーリング負荷を解消 |
| キャッシング / メッセージング | Redis | 価格・在庫などの頻繁にアクセスされるデータのキャッシュ。Pub/Sub機能によりDB更新イベントをリアルタイムに処理 |
| データベース | PostgreSQL (Async Driver) | データの永続化。FastAPIから非同期ドライバを用いて高速アクセスを実現 |
| フロントエンド | React | WebSocket接続を管理し、リアルタイムデータを受信してグラフやアラートとして表示するダッシュボードUI |

### 主な機能 (Key Features) ✨

#### 1. 高性能なリアルタイムデータ配信
- **非同期DBアクセス**: 商品の在庫・価格更新APIが非同期でデータベース操作を行うため、I/Oブロッキングを避け、高い並行処理性能を実現。
- **プッシュ通知**: 在庫や価格が変更された場合、Redis Pub/Subを経由して、FastAPIのWebSocket接続中のクライアントに対し、自動的かつ即座に最新データを配信。

#### 2. 堅牢なデータ整合性
- **厳格な検証**: FastAPIのPydanticモデルによるデータの型検証と、ビジネスロジック層での在庫数の整合性チェックを徹底。
- **認証・認可**: JWT認証を導入し、データ更新APIおよびWebSocket接続にアクセスできるユーザーを管理者権限に限定。

#### 3. 運用効率化とアラート機能
- **ダッシュボード**: Reactで構築されたダッシュボードは、特定のSKUの価格変動履歴や在庫レベルをグラフで可視化。
- **閾値アラート**: 在庫数が定義した閾値（例: 10個未満）を下回った場合、自動的にアラートメッセージをダッシュボードに表示。

### 習得したスキル (Learned Skills for Career) 🚀

本プロジェクトを通じて、ECサイトのバックエンド開発に不可欠な以下の技術と知識を深く習得しました。

- **高性能非同期開発**: FastAPIを使った高並行なAPI設計と、Pythonのasyncioエコシステム（aioredis, asyncpgなど）の実践。
- **イベント駆動アーキテクチャ**: RedisのPub/Subをメッセージキューとして活用し、疎結合なリアルタイム通知システムを構築する設計能力。
- **セキュリティと運用**: JWT認証、環境変数による機密情報管理、Docker/Docker Composeを使用した環境構築の統一化。
- **フロントエンド連携**: ReactとWebSocketを統合し、ユーザー体験を損なわないリアルタイムなデータ連携を実装。

### 導入方法 (Getting Started) 🚀

#### 必須要件
- Python 3.11+
- Docker & Docker Compose (Redis/PostgreSQLの起動用)

#### ローカル起動手順

1. **リポジトリのクローンと移動**:
   ```bash
   git clone [リポジトリのURL]
   cd [リポジトリ名]
   ```

2. **依存関係のインストール**:
   ```bash
   pip install -r requirements.txt
   ```

3. **データベースとRedisの起動 (Docker Compose)**:
   ```bash
   docker-compose up -d
   ```

4. **FastAPIサーバーの起動**:
   ```bash
   uvicorn main:app --reload
   ```

5. **アクセス**: ブラウザで http://127.0.0.1:8000/docs にアクセスし、自動生成されたOpenAPIドキュメントからAPIテストが可能です。



